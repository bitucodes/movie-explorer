{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\"; // setting the api link\n\nexport const API_URL = `http://www.omdbapi.com/?apikey=bdeb035d&i=tt0111161&plot=full&r=xml&tomatoes=True`;\n/* plz subsribe to thapa technical channel \n          https://www.youtube.com/thapatechnical\n         */\n\nconst useFetch = apiParams => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState({\n    show: \"false\",\n    msg: \"\"\n  });\n  const [movie, setMovie] = useState(null);\n\n  const getMovie = async url => {\n    setIsLoading(true);\n\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n      console.log(data);\n\n      if (data.Response === \"True\") {\n        setIsLoading(false);\n        setMovie(data.Search || data);\n        setIsError({\n          show: \"false\",\n          msg: \"\"\n        });\n      } else {\n        setIsError({\n          show: \"true\",\n          msg: data.Error\n        });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }; // debouncing in react js\n\n\n  useEffect(() => {\n    let timeOut = setTimeout(() => {\n      getMovie(`${API_URL}&s=${apiParams}`);\n    }, 1000);\n    console.log(\"set\");\n    return () => {\n      clearTimeout(timeOut);\n      console.log(\"clear\");\n    };\n  }, [apiParams]);\n  return {\n    isLoading,\n    isError,\n    movie\n  };\n};\n\n_s(useFetch, \"zB6Z8Oiru7ajYcc29o3LfIxXMqo=\");\n\nexport default useFetch;","map":{"version":3,"names":["React","useState","useEffect","API_URL","useFetch","apiParams","isLoading","setIsLoading","isError","setIsError","show","msg","movie","setMovie","getMovie","url","res","fetch","data","json","console","log","Response","Search","Error","error","timeOut","setTimeout","clearTimeout"],"sources":["/home/lenovo/Desktop/movie/src/useFetch.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n// setting the api link\nexport const API_URL = `http://www.omdbapi.com/?apikey=bdeb035d&i=tt0111161&plot=full&r=xml&tomatoes=True`;\n/* plz subsribe to thapa technical channel \n          https://www.youtube.com/thapatechnical\n         */\n\nconst useFetch = (apiParams) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [isError, setIsError] = useState({ show: \"false\", msg: \"\" });\n  const [movie, setMovie] = useState(null);\n\n  const getMovie = async (url) => {\n    setIsLoading(true);\n    try {\n      const res = await fetch(url);\n      const data = await res.json();\n\n      console.log(data);\n      if (data.Response === \"True\") {\n        setIsLoading(false);\n        setMovie(data.Search || data);\n        setIsError({ show: \"false\", msg: \"\" });\n      } else {\n        setIsError({ show: \"true\", msg: data.Error });\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // debouncing in react js\n  useEffect(() => {\n    let timeOut = setTimeout(() => {\n      getMovie(`${API_URL}&s=${apiParams}`);\n    }, 1000);\n    console.log(\"set\");\n    return () => {\n      clearTimeout(timeOut);\n      console.log(\"clear\");\n    };\n  }, [apiParams]);\n\n  return { isLoading, isError, movie };\n};\n\nexport default useFetch;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C,C,CAEA;;AACA,OAAO,MAAMC,OAAO,GAAI,mFAAjB;AACP;AACA;AACA;;AAEA,MAAMC,QAAQ,GAAIC,SAAD,IAAe;EAAA;;EAC9B,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,IAAD,CAA1C;EACA,MAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC;IAAES,IAAI,EAAE,OAAR;IAAiBC,GAAG,EAAE;EAAtB,CAAD,CAAtC;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,IAAD,CAAlC;;EAEA,MAAMa,QAAQ,GAAG,MAAOC,GAAP,IAAe;IAC9BR,YAAY,CAAC,IAAD,CAAZ;;IACA,IAAI;MACF,MAAMS,GAAG,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAvB;MACA,MAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;MAEAC,OAAO,CAACC,GAAR,CAAYH,IAAZ;;MACA,IAAIA,IAAI,CAACI,QAAL,KAAkB,MAAtB,EAA8B;QAC5Bf,YAAY,CAAC,KAAD,CAAZ;QACAM,QAAQ,CAACK,IAAI,CAACK,MAAL,IAAeL,IAAhB,CAAR;QACAT,UAAU,CAAC;UAAEC,IAAI,EAAE,OAAR;UAAiBC,GAAG,EAAE;QAAtB,CAAD,CAAV;MACD,CAJD,MAIO;QACLF,UAAU,CAAC;UAAEC,IAAI,EAAE,MAAR;UAAgBC,GAAG,EAAEO,IAAI,CAACM;QAA1B,CAAD,CAAV;MACD;IACF,CAZD,CAYE,OAAOC,KAAP,EAAc;MACdL,OAAO,CAACC,GAAR,CAAYI,KAAZ;IACD;EACF,CAjBD,CAL8B,CAwB9B;;;EACAvB,SAAS,CAAC,MAAM;IACd,IAAIwB,OAAO,GAAGC,UAAU,CAAC,MAAM;MAC7Bb,QAAQ,CAAE,GAAEX,OAAQ,MAAKE,SAAU,EAA3B,CAAR;IACD,CAFuB,EAErB,IAFqB,CAAxB;IAGAe,OAAO,CAACC,GAAR,CAAY,KAAZ;IACA,OAAO,MAAM;MACXO,YAAY,CAACF,OAAD,CAAZ;MACAN,OAAO,CAACC,GAAR,CAAY,OAAZ;IACD,CAHD;EAID,CATQ,EASN,CAAChB,SAAD,CATM,CAAT;EAWA,OAAO;IAAEC,SAAF;IAAaE,OAAb;IAAsBI;EAAtB,CAAP;AACD,CArCD;;GAAMR,Q;;AAuCN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}